<html>
    <head>
        <meta charset="utf-8">
        
            <script src="lib/bindings/utils.js"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100vw;
                 height: 100vh;
                 background-color: #f8f9fa;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    
<style>
body, html {
    margin: 0 !important;
    padding: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    overflow: hidden !important;
    background: #f8f9fa !important;
}
#mynetworkid {
    width: 100vw !important;
    height: 100vh !important;
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
}
</style>
</head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": {"background": "#c92a2a40", "border": "#c92a2a", "highlight": {"background": "#c92a2a60", "border": "#c92a2a"}}, "font": {"color": "#212529"}, "id": "R1", "label": "\ud83d\udd00\nrouter", "shape": "dot", "size": 30, "title": "\u003cb\u003erouter\u003c/b\u003e\u003cbr\u003eType: router"}, {"color": {"background": "#c92a2a40", "border": "#c92a2a", "highlight": {"background": "#c92a2a60", "border": "#c92a2a"}}, "font": {"color": "#212529"}, "id": "R2", "label": "\ud83d\udd00\nrouter", "shape": "dot", "size": 30, "title": "\u003cb\u003erouter\u003c/b\u003e\u003cbr\u003eType: router"}, {"color": {"background": "#c92a2a40", "border": "#c92a2a", "highlight": {"background": "#c92a2a60", "border": "#c92a2a"}}, "font": {"color": "#212529"}, "id": "R3", "label": "\ud83d\udd00\nrouter", "shape": "dot", "size": 30, "title": "\u003cb\u003erouter\u003c/b\u003e\u003cbr\u003eType: router"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "S1", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "S2", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "S3", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC1", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC2", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC3", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC4", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC5", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}, {"color": {"background": "#37b24d40", "border": "#37b24d", "highlight": {"background": "#37b24d60", "border": "#37b24d"}}, "font": {"color": "#212529"}, "id": "PC6", "label": "\ud83d\udda5\ufe0f\npc", "shape": "dot", "size": 30, "title": "\u003cb\u003epc\u003c/b\u003e\u003cbr\u003eType: pc"}]);
                  edges = new vis.DataSet([{"color": "#808080", "dashes": false, "from": "R1", "title": "\u003cb\u003eR1 \u2194 PC1\u003c/b\u003e", "to": "PC1", "width": 1}, {"color": "#808080", "dashes": false, "from": "R1", "title": "\u003cb\u003eR1 \u2194 PC2\u003c/b\u003e", "to": "PC2", "width": 1}, {"color": "#808080", "dashes": false, "from": "R1", "title": "\u003cb\u003eR1 \u2194 R3\u003c/b\u003e", "to": "R3", "width": 1}, {"color": "#808080", "dashes": false, "from": "R1", "title": "\u003cb\u003eR1 \u2194 R2\u003c/b\u003e", "to": "R2", "width": 1}, {"color": "#808080", "dashes": false, "from": "R1", "title": "\u003cb\u003eR1 \u2194 S1\u003c/b\u003e", "to": "S1", "width": 1}, {"color": {"color": "#dc3545", "highlight": "#c82333"}, "dashes": false, "from": "R2", "title": "\u003cb\u003eSubnet: 10.0.23.0/30 between GigabitEthernet/2 and GigabitEthernet/1 - Bandwidth: 10000.0 Mbps, Cost: 1\u003c/b\u003e\u003cbr\u003eType: SUBNET\u003cbr\u003eBandwidth: 10000 Mbps\u003cbr\u003eUtilization: 42.5%\u003cbr\u003ePriority: critical", "to": "R3", "width": 8}, {"color": "#808080", "dashes": false, "from": "R2", "title": "\u003cb\u003eR2 \u2194 S2\u003c/b\u003e", "to": "S2", "width": 1}, {"color": "#808080", "dashes": false, "from": "R2", "title": "\u003cb\u003eR2 \u2194 PC3\u003c/b\u003e", "to": "PC3", "width": 1}, {"color": "#808080", "dashes": false, "from": "R2", "title": "\u003cb\u003eR2 \u2194 PC4\u003c/b\u003e", "to": "PC4", "width": 1}, {"color": "#808080", "dashes": false, "from": "R3", "title": "\u003cb\u003eR3 \u2194 S3\u003c/b\u003e", "to": "S3", "width": 1}, {"color": "#808080", "dashes": false, "from": "R3", "title": "\u003cb\u003eR3 \u2194 PC5\u003c/b\u003e", "to": "PC5", "width": 1}, {"color": "#808080", "dashes": false, "from": "R3", "title": "\u003cb\u003eR3 \u2194 PC6\u003c/b\u003e", "to": "PC6", "width": 1}, {"color": {"color": "#198754", "highlight": "#146c43"}, "dashes": false, "from": "S1", "title": "\u003cb\u003eSubnet: 192.168.10.0/24 between VLAN and VLAN - Bandwidth: 10.0 Mbps, Cost: 10\u003c/b\u003e\u003cbr\u003eType: SUBNET\u003cbr\u003eBandwidth: 10 Mbps\u003cbr\u003eUtilization: 17.0%\u003cbr\u003ePriority: low", "to": "S1", "width": 2}, {"color": "#808080", "dashes": false, "from": "S1", "title": "\u003cb\u003eS1 \u2194 PC1\u003c/b\u003e", "to": "PC1", "width": 1}, {"color": "#808080", "dashes": false, "from": "S1", "title": "\u003cb\u003eS1 \u2194 PC2\u003c/b\u003e", "to": "PC2", "width": 1}, {"color": {"color": "#198754", "highlight": "#146c43"}, "dashes": false, "from": "S2", "title": "\u003cb\u003eSubnet: 192.168.20.0/24 between VLAN and VLAN - Bandwidth: 10.0 Mbps, Cost: 10\u003c/b\u003e\u003cbr\u003eType: SUBNET\u003cbr\u003eBandwidth: 10 Mbps\u003cbr\u003eUtilization: 17.1%\u003cbr\u003ePriority: low", "to": "S2", "width": 2}, {"color": "#808080", "dashes": false, "from": "S2", "title": "\u003cb\u003eS2 \u2194 PC3\u003c/b\u003e", "to": "PC3", "width": 1}, {"color": "#808080", "dashes": false, "from": "S2", "title": "\u003cb\u003eS2 \u2194 PC4\u003c/b\u003e", "to": "PC4", "width": 1}, {"color": {"color": "#198754", "highlight": "#146c43"}, "dashes": false, "from": "S3", "title": "\u003cb\u003eSubnet: 192.168.30.0/24 between VLAN and VLAN - Bandwidth: 10.0 Mbps, Cost: 10\u003c/b\u003e\u003cbr\u003eType: SUBNET\u003cbr\u003eBandwidth: 10 Mbps\u003cbr\u003eUtilization: 14.5%\u003cbr\u003ePriority: low", "to": "S3", "width": 2}, {"color": "#808080", "dashes": false, "from": "S3", "title": "\u003cb\u003eS3 \u2194 PC5\u003c/b\u003e", "to": "PC5", "width": 1}, {"color": "#808080", "dashes": false, "from": "S3", "title": "\u003cb\u003eS3 \u2194 PC6\u003c/b\u003e", "to": "PC6", "width": 1}, {"color": "#808080", "dashes": false, "from": "PC1", "title": "\u003cb\u003ePC1 \u2194 PC2\u003c/b\u003e", "to": "PC2", "width": 1}, {"color": "#808080", "dashes": false, "from": "PC3", "title": "\u003cb\u003ePC3 \u2194 PC4\u003c/b\u003e", "to": "PC4", "width": 1}, {"color": "#808080", "dashes": false, "from": "PC5", "title": "\u003cb\u003ePC5 \u2194 PC6\u003c/b\u003e", "to": "PC6", "width": 1}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"interaction": {"hover": true, "tooltipDelay": 200, "multiselect": true, "navigationButtons": true}, "physics": {"enabled": true, "stabilization": {"enabled": true, "fit": true, "iterations": 1000, "updateInterval": 50}}, "nodes": {"shadow": {"enabled": true, "color": "rgba(0,0,0,0.2)", "size": 8}, "font": {"size": 14, "face": "Arial,sans-serif"}, "borderWidth": 3, "size": 25}, "edges": {"smooth": {"type": "continuous", "roundness": 0.3}, "shadow": false, "font": {"size": 12}}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    
<!-- Enhanced Floating Controls and Legend -->
<style>
  .floating-panel {
    position: fixed; top: 20px; right: 20px; z-index: 9999;
    background: rgba(248, 249, 250, 0.95); 
    backdrop-filter: blur(10px);
    border: 1px solid #dee2e6; 
    padding: 15px; 
    border-radius: 10px; 
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif; 
    font-size: 13px;
    min-width: 200px;
  }
  .floating-panel h4 { 
    margin: 0 0 10px 0; font-size: 16px; font-weight: 600; color: #212529;
  }
  .floating-panel .row { 
    margin: 8px 0; display: flex; gap: 8px; flex-wrap: wrap;
  }
  .floating-panel button { 
    background: #0d6efd; color: white; border: none;
    padding: 6px 12px; border-radius: 5px; cursor: pointer;
    font-size: 12px; transition: all 0.2s;
  }
  .floating-panel button:hover {
    background: #0b5ed7; transform: translateY(-1px);
  }
  .legend-section {
    margin-top: 15px; padding-top: 15px; border-top: 1px solid #dee2e6;
  }
  .legend-item {
    display: flex; align-items: center; margin: 6px 0; font-size: 12px;
  }
  .legend-line { 
    width: 20px; height: 3px; margin-right: 8px;
  }
  .legend-dashed {
    background: repeating-linear-gradient(to right, #000 0px, #000 8px, transparent 8px, transparent 12px);
  }
</style>
<div class="floating-panel">
  <h4>🔧 Topology Controls</h4>
  <div class="row">
    <button id="fitBtn">📍 Fit View</button>
    <button id="togglePhysicsBtn">⚡ Physics</button>
  </div>
  <div class="row">
    <button id="zoomInBtn">🔍 Zoom In</button>
    <button id="zoomOutBtn">🔍 Zoom Out</button>
  </div>
  
  <div class="legend-section">
    <h4>📋 Legend</h4>
    <div class="legend-item">
      <div class="legend-line" style="background: #495057;"></div>
      <span>Subnet Links</span>
    </div>
    <div class="legend-item">
      <div class="legend-line legend-dashed" style="background-color: #1971c2;"></div>
      <span>OSPF Links</span>
    </div>
    <div class="legend-item">
      <div class="legend-line legend-dashed" style="background-color: #c92a2a;"></div>
      <span>BGP Links</span>
    </div>
    <div style="margin-top: 10px; font-size: 11px; color: #6c757d;">
      💡 Hover for details • 🖱️ Drag to move • 🔄 Scroll to zoom
    </div>
  </div>
</div>

<script>
(function() {
  function wireUp() {
    try {
      if (typeof network === "undefined") {
        return setTimeout(wireUp, 100);
      }
      var physicsEnabled = true;

      // Fit button
      var fitBtn = document.getElementById("fitBtn");
      if (fitBtn) {
        fitBtn.addEventListener("click", function() {
          try { network.fit({animation: {duration: 1000}}); } 
          catch (e) { console.warn("fit() failed:", e); }
        });
      }

      // Physics toggle
      var toggleBtn = document.getElementById("togglePhysicsBtn");
      if (toggleBtn) {
        toggleBtn.addEventListener("click", function() {
          physicsEnabled = !physicsEnabled;
          try { 
            network.setOptions({ physics: { enabled: physicsEnabled } });
            toggleBtn.textContent = physicsEnabled ? "⚡ Physics" : "⏸️ Physics";
          } catch (e) { console.warn("toggle physics failed:", e); }
        });
      }

      // Zoom controls
      var zoomInBtn = document.getElementById("zoomInBtn");
      var zoomOutBtn = document.getElementById("zoomOutBtn");
      
      if (zoomInBtn) {
        zoomInBtn.addEventListener("click", function() {
          try {
            var scale = network.getScale() * 1.2;
            network.moveTo({scale: scale, animation: {duration: 300}});
          } catch (e) { console.warn("Zoom in failed:", e); }
        });
      }
      
      if (zoomOutBtn) {
        zoomOutBtn.addEventListener("click", function() {
          try {
            var scale = network.getScale() / 1.2;
            network.moveTo({scale: scale, animation: {duration: 300}});
          } catch (e) { console.warn("Zoom out failed:", e); }
        });
      }

      // Auto-fit after stabilization
      network.on("stabilizationIterationsDone", function () {
        setTimeout(function() {
          try { network.fit({animation: {duration: 1000}}); }
          catch (e) { console.warn("Initial fit failed:", e); }
        }, 500);
      });
      
    } catch (e) {
      console.warn("Control wiring error:", e);
      setTimeout(wireUp, 100);
    }
  }
  
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", wireUp);
  } else {
    wireUp();
  }
})();
</script>
</body>
</html>